import{d as A,u as U,r as f,a as I,b as B,o as D,c as j,e as o,w as l,f as v,g as r,h as i,i as q,n as M,j as R,k as a,A as S,_ as $}from"./index-_IANILbF.js";import{A as E,_ as z}from"./AuthMobileImage.vue_vue_type_script_setup_true_lang-DYkWRdk7.js";const L={class:"page-container"},T=A({__name:"RegisterPage",setup(W){const{mdAndDown:w,smAndUp:d}=U(),c=f(!1),p=f(!1),m=f(""),e=I({password:"",confirmPassword:"",email:"",firstName:"",lastName:""}),_=R(),b=()=>{e.confirmPassword&&e.password!==e.confirmPassword?m.value="Пароли не совпадают":m.value=""},y=async()=>{if(e.password!==e.confirmPassword){m.value="Пароли не совпадают";return}try{const s=await S.signup(e.email,e.password,e.firstName,e.lastName);_.push({path:"/verify",query:{email:e.email}})}catch(s){s.response?(console.error("Ошибка сервера:",s.response.data),console.error("Код статуса:",s.response.status)):s.request?console.error("Ошибка запроса:",s.request):console.error("Ошибка:",s.message)}},x=B(()=>!e.email||!e.password||!e.firstName||!e.lastName||e.password!==e.confirmPassword||!!m.value);return(s,t)=>{const V=a("v-card-title"),u=a("v-text-field"),N=a("router-link"),g=a("v-card-text"),k=a("v-btn"),P=a("v-icon"),h=a("v-card"),C=a("v-container");return D(),j("div",L,[o(E),o(C,{class:"main-container"},{default:l(()=>[v("form",{onSubmit:q(y,["prevent"]),class:M(["align-md-center d-flex flex-column",i(w)?"w-66":"w-50"])},[o(z),o(V,{class:"align-md-center justify-center d-flex pl-0 mb-3 font-weight-regular"},{default:l(()=>t[7]||(t[7]=[r(" Регистрация ")])),_:1}),o(u,{class:"w-100 font-weight-light",modelValue:e.lastName,"onUpdate:modelValue":t[0]||(t[0]=n=>e.lastName=n),label:"Фамилия",variant:"outlined",density:i(d)?"comfortable":"compact"},null,8,["modelValue","density"]),o(u,{class:"w-100 font-weight-light",modelValue:e.firstName,"onUpdate:modelValue":t[1]||(t[1]=n=>e.firstName=n),label:"Имя",variant:"outlined",density:i(d)?"comfortable":"compact"},null,8,["modelValue","density"]),o(u,{class:"w-100 font-weight-light",modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=n=>e.email=n),label:"Почта",variant:"outlined",density:i(d)?"comfortable":"compact"},null,8,["modelValue","density"]),o(u,{class:"w-100 mb-0 font-weight-light",label:"Пароль",hint:"Не менее 8 знаков: латинские буквы, цифры, спецсимволы",persistent:"",density:i(d)?"comfortable":"compact",variant:"outlined","append-inner-icon":c.value?"mdi-eye-off":"mdi-eye",modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=n=>e.password=n),type:c.value?"text":"password","onClick:appendInner":t[4]||(t[4]=n=>c.value=!c.value)},null,8,["density","append-inner-icon","modelValue","type"]),o(u,{class:"w-100 mb-0 font-weight-light",label:"Повторите пароль",variant:"outlined",density:i(d)?"comfortable":"compact","append-inner-icon":p.value?"mdi-eye-off":"mdi-eye",modelValue:e.confirmPassword,"onUpdate:modelValue":t[5]||(t[5]=n=>e.confirmPassword=n),type:p.value?"text":"password","onClick:appendInner":t[6]||(t[6]=n=>p.value=!p.value),"error-messages":m.value,onInput:b},null,8,["density","append-inner-icon","modelValue","type","error-messages"]),o(g,{class:"w-100 justify-center d-flex mt-0 pt-0 pl-0 font-weight-light"},{default:l(()=>[t[9]||(t[9]=r(" Уже есть аккаунт?   ")),o(N,{to:"/login"},{default:l(()=>t[8]||(t[8]=[r(" Войдите ")])),_:1})]),_:1}),o(k,{class:"text-none mb-2 w-100 font-weight-thin",text:"Создать профиль",type:"submit",density:i(w)?"compact":"comfortable",disabled:x.value,onClick:s.result},null,8,["density","disabled","onClick"]),o(h,{class:"info-card d-flex align-center mt-3 bg-color-none",rounded:"xm",variant:"outlined"},{default:l(()=>[o(P,{class:"info-icon ml-5",color:"black"},{default:l(()=>t[10]||(t[10]=[r(" mdi-information-outline ")])),_:1}),o(g,{class:"info--card font-weight-light px-3 py-2 mr-2"},{default:l(()=>t[11]||(t[11]=[r(" Создавая профиль, нажимая на кнопку, вы даёте "),v("a",{href:"Согласие на обработку персональных данных"}," согласие на обработку персональных данных ",-1),r(" и рассылку информационных сообщений "),v("a",{href:"https://www.consultant.ru/document/cons_doc_LAW_61801/",class:"link"}," согласно закону",-1),r(" О персональных данных от 27.07.2006 №152-ФЗ ")])),_:1})]),_:1})],34)]),_:1})])}}}),H=$(T,[["__scopeId","data-v-4bbd4e15"]]);export{H as default};
